for _, force in pairs(game.forces) do
  -- aluminium
  if force.technologies["angels-aluminium-casting-2"] and force.technologies["angels-aluminium-smelting-2"] then
    force.technologies["angels-aluminium-casting-2"].researched = force.technologies["angels-aluminium-smelting-2"].researched
  end
  if force.technologies["angels-aluminium-casting-3"] and force.technologies["angels-aluminium-smelting-3"] then
    force.technologies["angels-aluminium-casting-3"].researched = force.technologies["angels-aluminium-smelting-3"].researched
  end
  -- chrome
  if force.technologies["angels-chrome-casting-2"] and force.technologies["angels-chrome-smelting-2"] then
    force.technologies["angels-chrome-casting-2"].researched = force.technologies["angels-chrome-smelting-2"].researched
  end
  if force.technologies["angels-chrome-casting-3"] and force.technologies["angels-chrome-smelting-3"] then
    force.technologies["angels-chrome-casting-3"].researched = force.technologies["angels-chrome-smelting-3"].researched
  end
  -- cobalt
  if force.technologies["angels-cobalt-casting-2"] and force.technologies["angels-cobalt-smelting-2"] then
    force.technologies["angels-cobalt-casting-2"].researched = force.technologies["angels-cobalt-smelting-2"].researched
  end
  if force.technologies["angels-cobalt-casting-3"] and force.technologies["angels-cobalt-smelting-3"] then
    force.technologies["angels-cobalt-casting-3"].researched = force.technologies["angels-cobalt-smelting-3"].researched
  end
  -- copper
  if force.technologies["angels-copper-casting-2"] and force.technologies["angels-copper-smelting-2"] then
    force.technologies["angels-copper-casting-2"].researched = force.technologies["angels-copper-smelting-2"].researched
  end
  if force.technologies["angels-copper-casting-3"] and force.technologies["angels-copper-smelting-3"] then
    force.technologies["angels-copper-casting-3"].researched = force.technologies["angels-copper-smelting-3"].researched
  end
  -- gold
  if force.technologies["angels-gold-casting-2"] and force.technologies["angels-gold-smelting-2"] then
    force.technologies["angels-gold-casting-2"].researched = force.technologies["angels-gold-smelting-2"].researched
  end
  if force.technologies["angels-gold-casting-3"] and force.technologies["angels-gold-smelting-3"] then
    force.technologies["angels-gold-casting-3"].researched = force.technologies["angels-gold-smelting-3"].researched
  end
  -- iron
  if force.technologies["angels-iron-casting-2"] and force.technologies["angels-iron-smelting-2"] then
    force.technologies["angels-iron-casting-2"].researched = force.technologies["angels-iron-smelting-2"].researched
  end
  if force.technologies["angels-iron-casting-3"] and force.technologies["angels-iron-smelting-3"] then
    force.technologies["angels-iron-casting-3"].researched = force.technologies["angels-iron-smelting-3"].researched
  end
  -- lead
  if force.technologies["angels-lead-casting-2"] and force.technologies["angels-lead-smelting-2"] then
    force.technologies["angels-lead-casting-2"].researched = force.technologies["angels-lead-smelting-2"].researched
  end
  if force.technologies["angels-lead-casting-3"] and force.technologies["angels-lead-smelting-3"] then
    force.technologies["angels-lead-casting-3"].researched = force.technologies["angels-lead-smelting-3"].researched
  end
  -- manganese
  if force.technologies["angels-manganese-casting-2"] and force.technologies["angels-manganese-smelting-2"] then
    force.technologies["angels-manganese-casting-2"].researched = force.technologies["angels-manganese-smelting-2"].researched
  end
  if force.technologies["angels-manganese-casting-3"] and force.technologies["angels-manganese-smelting-3"] then
    force.technologies["angels-manganese-casting-3"].researched = force.technologies["angels-manganese-smelting-3"].researched
  end
  -- nickel
  if force.technologies["angels-nickel-casting-2"] and force.technologies["angels-nickel-smelting-2"] then
    force.technologies["angels-nickel-casting-2"].researched = force.technologies["angels-nickel-smelting-2"].researched
  end
  if force.technologies["angels-nickel-casting-3"] and force.technologies["angels-nickel-smelting-3"] then
    force.technologies["angels-nickel-casting-3"].researched = force.technologies["angels-nickel-smelting-3"].researched
  end
  -- platinum
  if force.technologies["angels-platinum-casting-2"] and force.technologies["angels-platinum-smelting-2"] then
    force.technologies["angels-platinum-casting-2"].researched = force.technologies["angels-platinum-smelting-2"].researched
  end
  if force.technologies["angels-platinum-casting-3"] and force.technologies["angels-platinum-smelting-3"] then
    force.technologies["angels-platinum-casting-3"].researched = force.technologies["angels-platinum-smelting-3"].researched
  end
  -- silicon
  if force.technologies["angels-silicon-casting-2"] and force.technologies["angels-silicon-smelting-3"] then
    force.technologies["angels-silicon-casting-2"].researched = force.technologies["angels-silicon-smelting-3"].researched
  end
  -- silver
  if force.technologies["angels-silver-casting-2"] and force.technologies["angels-silver-smelting-2"] then
    force.technologies["angels-silver-casting-2"].researched = force.technologies["angels-silver-smelting-2"].researched
  end
  if force.technologies["angels-silver-casting-3"] and force.technologies["angels-silver-smelting-3"] then
    force.technologies["angels-silver-casting-3"].researched = force.technologies["angels-silver-smelting-3"].researched
  end
  -- tin
  if force.technologies["angels-tin-casting-2"] and force.technologies["angels-tin-smelting-2"] then
    force.technologies["angels-tin-casting-2"].researched = force.technologies["angels-tin-smelting-2"].researched
  end
  if force.technologies["angels-tin-casting-3"] and force.technologies["angels-tin-smelting-3"] then
    force.technologies["angels-tin-casting-3"].researched = force.technologies["angels-tin-smelting-3"].researched
  end
  -- titanium
  if force.technologies["angels-titanium-casting-2"] and force.technologies["angels-titanium-smelting-2"] then
    force.technologies["angels-titanium-casting-2"].researched = force.technologies["angels-titanium-smelting-2"].researched
  end
  if force.technologies["angels-titanium-casting-3"] and force.technologies["angels-titanium-smelting-3"] then
    force.technologies["angels-titanium-casting-3"].researched = force.technologies["angels-titanium-smelting-3"].researched
  end
  -- zinc
  if force.technologies["angels-zinc-casting-2"] and force.technologies["angels-zinc-smelting-2"] then
    force.technologies["angels-zinc-casting-2"].researched = force.technologies["angels-zinc-smelting-2"].researched
  end
  if force.technologies["angels-zinc-casting-3"] and force.technologies["angels-zinc-smelting-3"] then
    force.technologies["angels-zinc-casting-3"].researched = force.technologies["angels-zinc-smelting-3"].researched
  end
  force.reset_technology_effects()
end
